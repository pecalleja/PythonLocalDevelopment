import pytest

from src.codesignal.heap.sort_by_median import solution


@pytest.mark.parametrize(
    "input_array, expected",
    [
        ([1, 3, 5, 2, 4], [3, 2, 4, 1, 5]),
        ([1], [1]),
        ([1, 2], [1, 2]),
        (
            [-100, -200, -50, 0, 50, 100, 200],
            [0, -50, 50, -100, 100, -200, 200],
        ),
        (
            [-1000, -10000, -100000, -1000000],
            [-100000, -10000, -1000, -1000000],
        ),
        ([1, 2, 3, 4], [2, 3, 1, 4]),
        ([1, 1, 1, 1, 2, 2, 2, 2], [1, 1, 1, 1, 2, 2, 2, 2]),
        ([3, 5, 1, 2, 4], [3, 2, 4, 1, 5]),
        (
            list(range(50)),
            [
                24,
                25,
                23,
                26,
                22,
                27,
                21,
                28,
                20,
                29,
                19,
                30,
                18,
                31,
                17,
                32,
                16,
                33,
                15,
                34,
                14,
                35,
                13,
                36,
                12,
                37,
                11,
                38,
                10,
                39,
                9,
                40,
                8,
                41,
                7,
                42,
                6,
                43,
                5,
                44,
                4,
                45,
                3,
                46,
                2,
                47,
                1,
                48,
                0,
                49,
            ],
        ),
        (
            list(range(50, 0, -1)),
            [
                25,
                26,
                24,
                27,
                23,
                28,
                22,
                29,
                21,
                30,
                20,
                31,
                19,
                32,
                18,
                33,
                17,
                34,
                16,
                35,
                15,
                36,
                14,
                37,
                13,
                38,
                12,
                39,
                11,
                40,
                10,
                41,
                9,
                42,
                8,
                43,
                7,
                44,
                6,
                45,
                5,
                46,
                4,
                47,
                3,
                48,
                2,
                49,
                1,
                50,
            ],
        ),
    ],
)
def test_sort_by_median(input_array, expected):
    assert solution(input_array) == expected
